# 第二十章-分页_较小的表

## Problem1

### 问题描述

对于线性页表，你需要一个寄存器来定位页表，假设硬件在 TLB 未命中时进行查找。你需要多少个寄存器才能找到两级页表？三级页表呢？

### 问题分析

- 对于线性页表，当发生TLB未命中时，硬件根据PTBR寄存器的值和VPN确定PTEAddr,然后在内存中找到PTE，再从PTE中取得PFN,和Offset组合得到PA.
- 对于二级页表，当发生TLB未命中时，硬件根据PDBR寄存器的值和PDIndex确定PDEAddr,然后在内存中找到PDE,再从PDE中取得页表页的PFN,根据PDE.PFN和PTIndex确定PTEAddr,然后在内存中找到PTE，再从PTE中取得PFN,和Offset组合得到PA.
- 对于三级页表，当发生TLB未命中时，硬件根据PDBR寄存器的值和PDIndex0确定PDEAddr0,然后在内存中找到第一级页目录的PDE0,从PDE0中取得第二级页目录的PFN，再根据PDE0.PFN和PDIndex1确定PDEAddr1，然后在内存中找到第二级页目录的PDE1，从PDE1中获取页表页的PFN,根据PDE1.PFN和PTIndex确定PTEAddr,然后在内存中找到PTE，再从PTE中取得PFN,和Offset组合得到PA.  

*PS：这里假设PDE和PTE都有效。*

### 问题解答

所以无论是二级页表还是三级页表，都只需要一个 PDBR 寄存器。

## Problem2

### 问题描述

使用模拟器对随机种子 0、1 和 2 执行翻译，并使用-c 标志检查你的答案。需要多少内存引用来执行每次查找？

### 问题分析

一些基本的假设:

- 页面大小是一个小得不真实的 32 字节
- 该进程的虚拟地址空间（假设只有一个）为 1024 页或 32 KB
- 物理内存由 128 页组成

因此，虚拟地址需要 15 位（偏移量为 5 位，VPN 为 10 位）。  
物理地址需要 12 位（偏移量为 5 位，PFN 为 7 位）。

系统使用一个多级（二级）页表。  
因此，VPN的高五位（PDIndex）用于索引页目录。  
低五位（PTIndex）用于索引页表。  
页目录项（PDE）（如果有效）指向页表页。  
每个页表页包含 32 个页表项（PTE）。  
每个 PTE（如果有效）均保存虚拟页面所需的转换（PFN）。

PTE 的格式为：

```sh
  VALID | PFN6 ... PFN0
```

因此是 8 位或 1 字节。

PDE 的格式本质上是相同的：

```sh
  VALID | PFN6 ... PFN0
```

### 问题解答

```shell
>python2 paging-multilevel-translate.py -s 0
ARG seed 0
ARG allocated 64
ARG num 10

page   0: 1b 1d 05 05 1d 0b 19 00 1e 00 12 1c 19 09 19 0c 0f 0b 0a 12 18 15 17 00 10 0a 06 1c 06 05 05 14 
page   1: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   2: 12 1b 0c 06 00 1e 04 13 0f 0b 10 02 1e 0f 00 0c 17 09 17 17 07 1e 00 1a 0f 04 08 12 08 19 06 0b 
page   3: 7f 7f 7f 7f cd 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 88 7f 7f 7f 7f 7f 7f 7f 7f b9 
page   4: 0b 04 10 04 05 1c 13 07 1b 13 1d 0e 1b 15 01 07 08 05 07 07 1b 0e 1b 04 11 00 1c 00 0c 18 1e 00 
page   5: 17 13 1d 0a 12 02 11 19 06 08 15 07 08 1d 1e 04 1b 11 01 12 13 01 17 19 02 14 0e 07 0e 04 0a 14 
page   6: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   7: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   8: 11 10 1a 12 0f 10 18 0a 11 15 1e 15 1d 0c 12 17 0a 08 1e 0a 1e 1a 06 19 1e 08 14 17 02 19 09 15 
page   9: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  10: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  11: 09 10 14 1d 04 01 1a 18 17 0e 15 0c 05 0c 18 18 1d 1b 15 10 16 05 1c 16 12 0d 13 13 1b 11 06 0d 
page  12: 06 0b 16 19 1c 05 14 1d 01 14 1a 0a 07 12 0d 05 0e 0c 11 0f 09 0b 19 07 11 00 16 0a 01 08 07 1d 
page  13: 19 10 0b 0e 00 06 14 14 0f 1d 0e 09 1a 08 12 15 19 18 0b 01 01 16 1d 0a 0d 16 14 08 14 09 0b 10 
page  14: 12 18 14 0b 00 0d 1c 0a 07 04 0f 10 02 0c 14 1d 0d 0d 0e 06 0c 14 0c 12 19 1e 1b 0b 00 12 0e 07 
page  15: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  16: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f ea 7f 7f 7f 
page  17: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  18: 7f 7f 7f 7f 7f 7f ab 7f 7f 7f 8e 7f 7f 7f dd 7f 7f 7f 7f 7f 7f 7f 8b 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  19: 00 13 00 01 06 14 02 01 1e 0d 1b 06 0d 0b 05 0a 1e 17 0b 0c 08 10 16 15 0e 01 1c 0c 0c 00 04 1a 
page  20: 1a 19 04 02 02 0c 1d 11 08 07 03 04 19 04 1a 19 04 11 00 1a 11 17 0f 15 1c 11 1b 0a 03 00 07 19 
page  21: 0b 08 1b 0e 1c 15 1e 12 1e 05 0d 11 1e 11 1a 13 0f 0c 0b 09 06 1d 10 1a 1b 1d 07 0a 13 09 04 17 
page  22: 12 12 15 0f 08 1b 0a 0e 13 0f 1d 1d 1c 1c 12 0f 15 06 08 01 05 00 14 04 18 15 1e 0c 1c 0e 0a 03 
page  23: 1d 0f 03 0b 0c 0f 1e 1e 11 13 14 0f 0f 09 15 02 09 1b 07 1d 1e 11 01 02 06 0a 03 18 0b 07 01 0b 
page  24: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  25: 03 03 1c 03 1b 0e 0e 0a 0c 0b 11 0a 19 07 07 0e 1c 00 16 00 0c 17 0d 0d 07 0e 07 08 14 12 1c 1e 
page  26: 09 0e 1d 18 08 11 15 18 0d 0c 17 0d 07 0e 1d 04 0e 13 0e 06 00 15 13 00 09 17 13 10 04 15 0e 15 
page  27: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  28: 0f 1d 0f 0a 02 11 07 0b 0b 17 07 1d 17 0e 1b 0b 0b 04 18 0c 0f 0e 14 0b 1c 0d 0b 0c 17 1e 1a 0e 
page  29: 17 08 1e 03 1b 01 07 10 12 0c 03 07 08 17 1c 12 01 18 09 0a 10 07 1c 05 0c 08 10 11 13 10 0c 13 
page  30: 7f 7f 7f 7f 7f 84 7f 7f 7f 7f 97 7f bd 7f 7f f4 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 9c 7f 
page  31: 7f 7f 7f 7f 7f 7f d0 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  32: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  33: 7f 7f 7f 7f 7f 7f 7f 7f b5 7f 9d 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f f6 b1 7f 7f 7f 7f 
page  34: 04 13 05 0d 0c 02 16 15 18 10 11 05 06 07 10 19 0b 1b 16 16 0a 03 1d 1a 0c 1a 1b 0a 0f 0a 15 1c 
page  35: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  36: 1d 13 13 16 0c 0c 14 00 05 0a 07 13 0b 1b 11 0c 0c 15 0c 14 01 0d 08 04 10 0f 11 17 1b 0f 09 0e 
page  37: 1e 0f 0a 0d 0c 10 0c 02 1e 1e 05 07 0d 15 00 19 13 08 1a 14 09 10 1e 01 15 1a 15 04 12 18 0c 12 
page  38: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  39: 1b 11 1e 17 11 08 15 0e 16 0c 0f 00 16 01 15 12 18 08 15 06 10 0a 1e 1e 06 11 0a 1e 1c 12 16 15 
page  40: 0d 03 0b 10 07 19 0b 07 09 19 1c 1d 00 17 10 03 07 08 0c 0e 1d 01 15 1a 0b 07 06 09 04 11 07 00 
page  41: 7f 7f 7f 7f 7f 7f 7f 7f e5 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 8d 7f 7f 7f 7f 7f 
page  42: 03 04 15 01 11 1c 10 15 00 13 12 11 0c 0b 1e 01 00 1d 05 03 06 18 1d 00 0d 03 08 06 14 0a 05 0f 
page  43: 19 08 02 04 13 11 01 1e 0e 09 16 00 0d 14 1d 17 1b 03 0d 00 08 0b 0a 0b 18 05 19 10 0a 11 05 0f 
page  44: 7f 7f 7f 7f 7f 7f cc 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f a2 7f 7f 7f 7f 7f 7f 
page  45: 7f b2 7f ef 7f 7f 7f 7f a4 f5 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  46: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  47: 07 0a 0f 10 02 09 0b 0c 0e 0d 02 06 13 19 0f 04 02 04 0b 11 14 10 11 0a 14 16 0c 19 17 1c 0e 0a 
page  48: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  49: 1e 0a 0f 07 02 03 0d 13 10 10 03 01 0b 1d 05 08 0e 1c 1d 00 14 07 14 17 1b 15 1a 18 04 01 16 10 
page  50: 16 1b 04 07 06 01 1a 0f 02 0d 0d 18 17 04 13 0f 00 04 14 0b 1d 0f 15 04 0e 16 19 06 0c 0e 0d 0e 
page  51: 14 00 0f 1a 07 0a 1a 05 11 07 1d 18 0d 02 09 0f 1c 03 11 15 10 19 10 1d 12 12 0d 12 0b 11 09 05 
page  52: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  53: 0f 0c 18 09 0e 12 1c 0f 08 17 13 07 1c 1e 19 1b 09 16 1b 15 0e 03 0d 12 1c 1d 0e 1a 08 18 11 00 
page  54: 19 01 05 0f 03 1b 1c 09 0d 11 08 10 06 09 0d 12 10 08 07 03 18 03 16 07 08 16 14 16 0f 1a 03 14 
page  55: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  56: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  57: 1c 1d 16 02 02 0b 00 0a 00 1e 19 02 1b 06 06 14 1d 03 00 0b 00 12 1a 05 03 0a 1d 04 1d 0b 0e 09 
page  58: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  59: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  61: 01 05 10 02 0c 0a 0c 03 1c 0e 1a 1e 0a 0e 15 0d 09 16 1b 1c 13 0b 1e 13 02 02 17 01 00 0c 10 0d 
page  62: 7f 7f 7f a8 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  63: 06 12 06 0a 1d 1b 19 01 04 07 18 1a 12 16 19 02 02 1a 01 06 01 00 1a 0a 04 04 14 1e 0f 1b 0f 11 
page  64: 18 12 17 08 08 0d 1e 16 1d 10 11 1e 05 18 18 1a 17 04 14 1c 11 0b 1d 11 0c 13 18 07 00 10 1d 15 
page  65: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 99 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  66: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f d7 7f 7f 
page  67: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  68: 12 12 16 02 0f 06 0c 0f 0a 0c 16 01 1d 12 05 11 02 0f 15 0d 09 14 1c 1b 0b 1a 03 01 1e 17 13 11 
page  69: 19 0a 19 02 0d 0a 0d 19 0f 1e 1a 03 09 00 16 00 1b 05 0c 01 09 0c 01 17 16 0b 19 02 01 0b 1b 17 
page  70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  71: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 85 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  72: 18 0c 00 18 05 0c 0b 03 0a 05 13 14 00 0e 11 1b 0f 02 01 1a 18 1a 08 14 02 19 0a 1d 0e 01 1c 13 
page  73: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  74: 0d 0b 1e 08 18 0d 0b 01 1a 15 1b 0d 14 03 0c 06 01 1d 06 04 06 0b 10 04 1e 1e 04 0c 15 1b 0f 1c 
page  75: 1a 1c 01 1b 00 14 1c 0f 0c 0a 1c 1c 13 16 0a 04 1e 14 08 1e 12 0a 1b 02 18 04 03 08 16 12 0d 04 
page  76: 0c 11 15 0c 1b 1d 1e 01 19 1b 04 1d 03 06 1d 19 11 08 07 0c 00 13 01 17 02 00 08 17 19 0f 1d 03 
page  77: 1c 06 16 06 00 1b 1a 02 05 07 1c 0b 19 0d 0b 17 13 08 12 15 19 14 13 12 02 1d 16 08 15 13 14 0b 
page  78: 0e 02 17 1b 1c 1a 1b 1c 10 0c 15 08 19 1a 1b 12 1d 11 0d 14 1e 1c 18 02 12 0f 13 1a 07 16 03 06 
page  79: 1e 1b 15 16 07 17 08 03 0e 0a 05 0d 1b 0d 0d 15 10 04 1c 0d 18 0c 19 0c 06 06 1d 12 01 0c 07 02 
page  80: 1b 08 1d 1c 02 0d 17 0d 0f 19 15 1d 05 1c 1c 13 1d 07 1b 17 12 02 00 00 07 17 0b 18 13 0c 1b 01 
page  81: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f e2 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f fa 
page  82: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  83: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  84: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 94 7f 7f 7f 7f 7f ce 
page  85: 7f 7f 7f 7f 7f 7f 7f 7f 9a 7f bf 7f 7f 7f 7f 7f 7f 7f 7f 7f af 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  86: 7f 7f 7f 7f 7f 7f 7f c5 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f ca 7f 7f ee 7f 7f 7f 7f 7f 7f 7f 7f 
page  87: 18 05 18 0d 17 0e 18 02 01 1c 0f 1b 1d 14 11 06 02 19 1b 18 15 0d 09 03 0d 11 1c 1d 0c 03 17 16 
page  88: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f c4 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  89: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  90: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f c0 7f 7f 7f 7f 7f 7f 7f 7f de 7f 7f 7f 7f 7f 7f 
page  91: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f a5 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  92: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  93: 0a 1a 19 07 00 19 05 18 15 05 02 1c 12 13 0e 04 12 07 18 16 00 1c 01 02 09 04 07 0b 16 0c 08 0f 
page  94: 14 06 19 07 10 14 07 13 08 05 19 11 0a 12 00 04 0c 1e 0f 02 17 18 18 11 15 06 16 19 17 0a 12 13 
page  95: 0a 1d 0f 1d 1e 19 15 04 00 12 15 1d 10 15 14 06 13 1e 03 15 13 0b 18 00 1b 19 0e 03 0e 12 07 0f 
page  96: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f b6 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  97: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f c8 7f 7f 7f 7f 7f e7 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  98: 15 19 18 03 17 1a 17 0e 15 03 17 08 18 13 0f 10 02 01 00 18 04 03 0b 1e 1b 09 19 02 0c 11 1e 01 
page  99: 09 0b 13 04 15 0b 12 04 14 0a 0e 0c 0e 15 09 14 01 09 17 01 13 00 0e 1b 00 10 02 1a 15 17 14 00 
page 100: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f a7 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f e3 7f 7f 
page 101: 0e 0a 00 01 0b 06 10 05 06 14 16 09 1a 07 0a 16 01 1c 02 0e 16 01 19 1e 0e 03 02 03 17 0c 1c 0d 
page 102: 1d 03 1b 01 16 00 0d 1a 0c 1c 16 12 05 0a 0c 12 1e 08 0f 1c 0a 13 17 13 17 06 1d 05 12 09 13 09 
page 103: 1e 17 1c 06 10 12 19 0e 18 0c 12 1a 18 14 00 05 0f 07 02 1a 1d 09 0c 19 01 13 03 08 19 01 01 0c 
page 104: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 80 aa 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f f0 7f 7f 7f 
page 105: b3 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 93 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page 106: 16 0a 00 0e 10 01 11 0a 00 05 03 10 01 1c 1a 1d 09 1c 1e 17 08 14 12 0c 09 01 03 04 0e 13 17 01 
page 107: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f f1 7f 7f 7f 7f 7f 7f 7f 7f 7f f3 7f 7f 7f 7f 7f 7f 7f 
page 108: 83 fe e0 da 7f d4 7f eb be 9e d5 ad e4 ac 90 d6 92 d8 c1 f8 9f e1 ed e9 a1 e8 c7 c2 a9 d1 db ff 
page 109: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 82 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page 110: 16 14 04 1e 0c 12 0b 01 0e 04 01 13 13 03 11 0a 0b 18 0f 1b 12 0e 13 0a 03 15 13 18 03 1c 18 1c 
page 111: 08 00 01 15 11 1d 1d 1c 01 17 15 14 16 1b 13 0b 10 06 12 00 04 0a 18 16 0a 13 01 05 1e 08 0c 11 
page 112: 19 05 1e 13 02 16 1e 0c 15 09 06 16 00 19 10 03 03 14 1b 08 1e 03 1a 0c 02 08 0e 18 1a 04 10 14 
page 113: 1d 07 11 1b 12 05 07 1e 09 1a 18 17 16 18 1a 01 05 0f 06 10 0f 03 02 00 19 02 1d 1e 17 0d 08 0c 
page 114: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 115: 11 06 01 04 0d 14 06 15 1a 17 0d 14 1e 1b 0a 15 05 11 0b 0d 0d 14 1a 0e 04 17 17 1d 0c 0e 10 1b 
page 116: 0a 13 0b 11 15 0f 14 17 1a 05 06 0f 0f 19 10 1b 18 0f 19 0e 0a 0d 0e 14 01 16 1e 0e 02 06 03 07 
page 117: 1b 0a 17 00 19 11 1d 0b 13 0a 18 12 1e 00 04 01 03 1c 1d 0e 1d 19 18 17 05 11 0d 1d 05 05 14 04 
page 118: 11 19 02 1a 1c 05 19 1a 1b 10 12 06 15 0c 00 04 0c 1b 11 1c 1c 02 12 0a 0f 0e 0e 03 19 0f 13 0e 
page 119: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 120: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f cb 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page 121: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 122: 05 1e 03 12 04 1b 1d 18 09 07 17 09 0d 01 04 00 02 02 0d 11 16 04 0d 13 02 0d 0b 1d 01 0c 0c 16 
page 123: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 124: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 125: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 126: 7f 7f 7f 7f 7f 7f 7f 7f 8c e6 cf 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 96 7f 7f 7f 7f 7f 
page 127: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f df 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 95 7f 7f 

PDBR: 108  (decimal) [This means the page directory is held in this page]

Virtual Address 611c: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 3da8: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 17f5: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 7f6c: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 0bad: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 6d60: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 2a5b: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 4c5e: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 2592: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 3e99: Translates To What Physical Address (And Fetches what Value)? Or Fault?
```

- PDBR 地址:108(10),因此查找页目录时,查找的页为:  
page 108: 83 fe e0 da 7f d4 7f eb be 9e d5 ad e4 ac 90 d6 92 d8 c1 f8 9f e1 ed e9 a1 e8 c7 c2 a9 d1 db ff  
索引     : 0   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  

1. 虚拟地址:611c(16) -> 11000 01000 11100(2) -> 24 8 28(10)  
PDBR 为 108,页目录索引为 24(108 页第 24 项) -> PDE 为 a1  
a1 -> 1 0100001(2) -> 有效位为 1, 页帧号为 33(10)  
页帧号 33,页表索引 8(第 33 页第 8 项) -> PTE 为 b5  
b5 -> 1 0110101(2) -> 有效位为 1, 物理页号为 53(10)  
物理页号 53,偏移为 28(第 53 页,第 28 字节) -> 物理地址为 0x6bc,值为 08

2. 虚拟地址:3da8(16) 01111 01101 01000(2) -> 15 13 8(10)  
PDBR 为 108, 页目录索引为 15 -> PDE 为 d6  
d6 -> 1 1010110(2) -> 有效位为 1, 页帧号为 86(10)  
页帧号 86,索引为 13 -> 物理页号 7f  
7f(16) -> 01111111(2) -> 有效位为 0 -> 无效  

3. 虚拟地址:17f5(16) -> 00101 11111 10101(2) -> 5 31 21(10)  
PDBR 为 108, 页目录索引为 5 -> PDE 为 d4  
d4 -> 1 1010100 -> 有效位为1, 页帧号为 84  
页帧号 84,索引 31 -> PTE 为 ce  
ce -> 1 1001110 -> 有效位为1,物理页号为 78,偏移为 21 -> 物理地址为 0x9d5,值为 1c  

4. 虚拟地址:7f6c(16) -> 11111 11011 01100(2) -> 31 27 12(10)  
PDBR 为 108,页目录索引为 31(108 页第 31 项) -> PDE 为 ff  
a1 -> 1 1111111(2) -> 有效位为 1, 页帧号为 127(10)  
页帧号 127,页表索引 27(第 127 页第 27 项) -> PTE 为 7f  
7f -> 0 1111111(2) -> 有效位为 0 -> 无效  

5. 虚拟地址:0bad(16) 00010 11101 01101(2) -> 2 29 13(10)  
PDBR 为 108, 页目录索引为 2 -> PDE 为 e0  
e0 -> 1 1100000(2) -> 有效位为 1, 页帧号为 96(10)  
页帧号 96,索引为 29 -> 物理页号 7f  
7f(16) -> 01111111(2) -> 有效位为 0 -> 无效  

*其余算法类似，再此不赘述。*

### 答案验证

```shell
Virtual Address 611c:
  --> pde index:0x18 [decimal 24] pde contents:0xa1 (valid 1, pfn 0x21 [decimal 33])
    --> pte index:0x8 [decimal 8] pte contents:0xb5 (valid 1, pfn 0x35 [decimal 53])
      --> Translates to Physical Address 0x6bc --> Value: 08
Virtual Address 3da8:
  --> pde index:0xf [decimal 15] pde contents:0xd6 (valid 1, pfn 0x56 [decimal 86])
    --> pte index:0xd [decimal 13] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 17f5:
  --> pde index:0x5 [decimal 5] pde contents:0xd4 (valid 1, pfn 0x54 [decimal 84])
    --> pte index:0x1f [decimal 31] pte contents:0xce (valid 1, pfn 0x4e [decimal 78])
      --> Translates to Physical Address 0x9d5 --> Value: 1c
Virtual Address 7f6c:
  --> pde index:0x1f [decimal 31] pde contents:0xff (valid 1, pfn 0x7f [decimal 127])
    --> pte index:0x1b [decimal 27] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 0bad:
  --> pde index:0x2 [decimal 2] pde contents:0xe0 (valid 1, pfn 0x60 [decimal 96])
    --> pte index:0x1d [decimal 29] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 6d60:
  --> pde index:0x1b [decimal 27] pde contents:0xc2 (valid 1, pfn 0x42 [decimal 66])
    --> pte index:0xb [decimal 11] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 2a5b:
  --> pde index:0xa [decimal 10] pde contents:0xd5 (valid 1, pfn 0x55 [decimal 85])
    --> pte index:0x12 [decimal 18] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 4c5e:
  --> pde index:0x13 [decimal 19] pde contents:0xf8 (valid 1, pfn 0x78 [decimal 120])
    --> pte index:0x2 [decimal 2] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 2592:
  --> pde index:0x9 [decimal 9] pde contents:0x9e (valid 1, pfn 0x1e [decimal 30])
    --> pte index:0xc [decimal 12] pte contents:0xbd (valid 1, pfn 0x3d [decimal 61])
      --> Translates to Physical Address 0x7b2 --> Value: 1b
Virtual Address 3e99:
  --> pde index:0xf [decimal 15] pde contents:0xd6 (valid 1, pfn 0x56 [decimal 86])
    --> pte index:0x14 [decimal 20] pte contents:0xca (valid 1, pfn 0x4a [decimal 74])
      --> Translates to Physical Address 0x959 --> Value: 1e
```

经验证，答案正确。

### 问题解答

```shell
>python2 paging-multilevel-translate.py -s 1
ARG seed 1
ARG allocated 64
ARG num 10

page   0: 7f 7f 7f 7f 7f 7f b2 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page   1: 01 19 1d 11 05 1a 1e 15 0f 0b 0a 06 14 0d 06 03 14 09 0f 0a 1b 1b 00 06 0a 1e 18 0a 06 14 19 1c 
page   2: ba 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 9f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f a4 7f 7f 7f 7f 
page   3: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   4: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 9c 
page   5: 1e 12 0c 05 0f 1e 17 10 1a 07 0f 1d 11 0e 08 10 1d 00 18 19 1b 16 19 10 11 0d 01 1a 11 06 0f 0f 
page   6: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   7: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   8: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f bd 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page   9: 06 17 04 06 05 0b 01 0b 12 15 1a 02 13 06 0a 11 19 14 1e 00 09 0e 01 01 0b 11 04 02 09 16 11 1e 
page  10: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  11: 0f 1c 07 09 12 11 11 0c 01 12 08 13 0d 08 1e 09 1e 0e 10 08 05 15 0e 12 05 0f 14 17 14 0c 15 12 
page  12: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  13: 09 08 01 00 04 0c 1c 13 07 15 08 0f 09 1d 0a 18 13 1a 12 1a 0c 15 13 10 11 10 0c 1b 13 11 01 0f 
page  14: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  15: 7f 7f 7f f1 7f 7f 7f b4 7f 7f ca c2 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  16: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  17: da f7 f2 a8 96 c5 9d 94 c8 b9 7f c4 98 e5 7f 7f d3 a1 82 8f a6 fb bf f0 7f 84 d2 a0 88 80 c9 92 
page  18: 7f 7f dd 7f 7f 7f 7f 7f 7f 7f 7f 95 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  19: 1c 00 04 14 01 0b 04 0e 1a 1c 01 01 1a 01 08 03 02 00 13 17 15 1a 14 0c 13 1e 13 07 01 1c 12 0a 
page  20: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f ad 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  21: 15 11 1c 05 0c 16 01 03 10 08 03 08 13 10 02 02 1a 13 05 1a 00 0b 1a 16 08 1b 12 1a 1b 0d 14 10 
page  22: 7f 7f 7f 7f 7f d9 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  23: 15 09 1c 0d 0e 00 00 03 13 14 1d 0d 15 0a 02 0d 15 18 1d 19 11 11 0f 0e 15 11 1a 0d 0e 19 14 10 
page  24: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f b5 7f 7f fa 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 93 7f 7f 7f 7f 7f 7f 
page  25: 0d 1b 11 11 0c 06 13 02 18 01 17 0b 15 12 04 10 02 07 0b 08 14 1e 0b 19 06 15 0a 10 02 19 06 0e 
page  26: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  27: 17 01 15 16 0a 0f 05 16 01 1e 19 13 08 1c 1d 04 18 1a 14 15 0d 1c 1e 0b 18 0d 05 0a 03 1c 1d 03 
page  28: 07 06 0a 0e 1b 14 13 1a 0b 0d 07 19 1b 1c 12 03 02 18 1b 10 1c 1c 17 0b 0e 0a 0c 0e 00 03 05 11 
page  29: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f a5 7f 7f 7f 7f 7f 7f 7f 
page  30: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  31: 07 02 11 02 02 13 09 18 0f 1a 04 0f 18 02 1d 05 18 1e 19 09 03 0f 1c 09 1b 04 1c 00 09 1b 18 1c 
page  32: 7f 7f 7f e1 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f db 7f 7f 7f 
page  33: 7f 7f 7f 7f 7f 7f 99 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f d5 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  34: 11 1c 0e 08 18 19 00 14 02 03 1b 01 07 1e 0d 03 05 07 17 03 1c 0b 1e 1c 09 07 0e 03 14 01 00 1e 
page  35: 0c 12 1e 15 09 10 0d 0f 0c 05 0c 0c 06 19 0b 04 11 1a 18 13 16 0a 04 07 0a 08 0e 04 04 07 06 18 
page  36: 1e 07 0f 16 15 0d 18 0f 16 0f 1e 16 02 04 1d 07 00 07 0e 1d 0c 16 19 02 12 1e 11 10 0a 1d 1e 03 
page  37: 06 1b 07 11 0e 0a 0c 00 05 13 17 06 05 1c 03 18 1b 04 19 04 01 08 0a 12 0d 18 14 03 06 17 03 1d 
page  38: 7f 7f 7f 7f 7f a7 7f 7f 7f 7f 7f 7f 7f f5 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 97 7f 7f 
page  39: 0f 12 11 1e 05 13 1e 16 11 0b 0c 1d 1b 14 1b 1c 1a 0b 0e 18 0b 17 0e 0a 0e 03 0a 0c 00 05 08 1a 
page  40: 7f 7f 7f e8 7f 7f aa 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 8b 7f 7f 7f 7f 7f 7f 7f 7f 7f f9 7f 7f 7f 7f 
page  41: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  42: 1e 14 18 0e 0e 0f 17 16 06 0d 10 11 1c 1a 04 0b 03 00 02 05 17 14 18 08 04 1e 19 1d 00 0c 13 16 
page  43: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  44: 13 12 0e 00 07 05 12 1a 18 18 19 07 1a 14 02 00 00 17 07 03 13 0a 02 04 10 05 08 16 0e 09 0e 00 
page  45: 18 1c 09 1b 0a 14 1e 17 01 0d 0b 09 19 0d 15 13 10 01 14 1b 05 13 0f 0a 16 1e 00 1b 0b 19 05 16 
page  46: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  47: 0a 17 0c 0b 11 06 02 07 00 14 0e 13 11 01 19 19 00 0d 18 0c 1a 15 14 1c 18 12 01 0e 15 10 12 0a 
page  48: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  49: 0d 0c 1a 12 16 1b 17 0f 17 13 14 13 0c 13 13 1d 18 1a 17 19 12 0a 08 15 1b 10 04 19 0f 0e 01 0f 
page  50: 18 1e 1c 14 0a 07 18 1c 1d 05 12 0f 0d 18 1d 16 15 15 14 10 07 18 03 13 0b 11 13 0e 1e 07 00 1d 
page  51: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  52: 09 07 17 00 05 0d 00 13 12 19 06 08 10 08 12 07 15 18 19 1e 10 0f 1a 17 11 0b 08 03 19 03 17 10 
page  53: 03 1b 0f 06 12 19 00 00 04 16 04 15 15 10 06 1e 18 10 06 14 0c 11 09 13 01 09 1e 1b 09 1a 09 1d 
page  54: 0b 14 00 0f 1d 15 0c 15 12 06 06 1b 08 02 19 10 0b 0f 16 05 14 16 19 08 12 07 11 05 18 1a 0a 06 
page  55: 07 08 10 0e 0c 03 0b 14 10 10 1a 16 15 00 09 15 04 1c 04 1b 06 1a 1a 0a 1b 04 1a 0b 0d 03 12 08 
page  56: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  57: 7f 7f 7f 7f 7f 7f 7f 7f 7f cb 7f 7f 7f 7f cc 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f a3 
page  58: 1b 07 0d 15 1c 15 13 0b 0d 13 0b 18 00 17 17 09 00 0a 12 18 1a 06 02 03 1e 14 03 15 1d 12 07 1d 
page  59: 0e 0f 05 10 0d 1b 16 0e 04 04 1e 12 06 19 06 0e 1b 03 03 01 04 0b 09 08 00 0f 0d 16 09 12 09 17 
page  60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  61: 14 1a 00 05 0a 09 19 07 09 0f 1d 09 13 01 0d 1c 06 0b 14 11 11 12 14 0a 0a 0c 10 11 1b 0c 0d 19 
page  62: 00 07 1b 01 14 0f 1e 1e 03 08 1e 0a 05 1c 13 09 11 0d 0e 11 05 13 1d 12 18 08 04 00 1e 03 0b 14 
page  63: 7f 7f e7 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f e2 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  64: 0d 15 16 07 0f 0e 06 0c 11 1c 1c 08 14 01 02 0f 1b 04 17 1b 09 15 1a 0b 15 16 12 1a 1b 1d 11 05 
page  65: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  66: 01 0a 0c 06 1b 0d 14 16 17 16 17 07 1e 04 1c 1a 1a 01 02 19 0e 0b 1e 01 10 0d 03 0c 15 1b 00 10 
page  67: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  68: d7 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f ac 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  69: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f be e9 b7 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  70: 11 13 02 05 1d 08 02 08 16 08 06 08 0e 16 09 1b 1e 19 02 09 1c 1a 04 0d 0b 17 00 09 17 1b 01 12 
page  71: 05 1e 1a 03 0a 16 16 1d 0d 19 14 09 12 1b 1a 0f 12 01 07 18 0c 05 11 15 14 0b 0d 0f 18 10 0c 0f 
page  72: 9b 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  73: 7f 7f 7f 7f 7f 7f 7f dc 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f ec 7f fc 7f 7f 7f 
page  74: 09 10 08 00 09 02 0f 0f 1a 17 17 1e 08 0b 07 03 0f 0f 04 1c 1e 02 00 01 16 1a 02 00 10 0a 00 00 
page  75: 13 17 07 01 19 09 19 1d 13 03 1a 13 07 06 0f 03 1c 15 19 0b 1c 04 16 07 00 03 06 17 0b 0e 13 08 
page  76: 09 01 1c 1e 1e 03 06 13 1e 10 15 14 08 10 09 07 02 08 1e 0d 14 13 1d 0c 09 0a 09 1a 1b 09 0a 10 
page  77: 00 1d 1c 13 0b 11 1b 0e 18 12 0d 1c 0c 12 01 0e 01 15 00 01 03 04 0f 0b 08 1e 1c 14 18 19 07 19 
page  78: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  79: 0d 19 0d 19 01 16 03 0c 0d 05 0d 1a 01 06 1e 0d 0c 1c 18 05 12 05 18 11 18 02 1c 07 1a 0d 1b 03 
page  80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  81: 0d 04 00 04 08 0e 00 02 18 1e 0d 0e 12 03 10 14 1d 13 10 0c 1c 10 0e 16 0d 02 12 1a 0b 02 03 1c 
page  82: 7f 7f 7f 7f 7f 7f 7f c6 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f c7 7f 7f df d1 7f 7f 
page  83: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f af 7f 7f 7f 7f 7f c0 7f 7f 
page  84: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  85: 08 0e 18 1a 18 14 02 0c 14 09 0f 1c 03 1a 03 0b 1c 06 10 0c 1b 1e 08 0f 1b 10 06 17 0a 0f 00 1e 
page  86: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  87: 0f 1e 07 16 02 05 1c 06 17 12 1a 0b 0a 09 1a 12 1d 1b 04 11 03 01 02 1a 18 19 0a 13 18 0b 11 06 
page  88: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  89: 07 0f 0f 1c 02 10 11 04 0b 04 1b 0a 02 0e 10 1b 16 06 1c 00 15 01 19 05 18 19 17 03 0c 03 16 1e 
page  90: 7f 7f 7f b1 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 85 7f 
page  91: 04 0e 13 04 02 12 07 13 05 1a 09 0d 11 1b 1c 1a 15 02 05 10 1e 16 05 0b 1d 0f 1a 1a 18 13 14 0a 
page  92: 19 1e 07 06 17 17 0f 0f 0c 1b 18 12 01 1a 0e 05 09 15 00 03 09 1b 17 1e 10 11 11 10 10 19 1d 0c 
page  93: 07 16 01 0f 11 15 1c 18 11 0f 00 11 11 17 05 12 01 16 19 0d 15 14 09 02 17 0b 05 0d 19 1d 11 1e 
page  94: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  95: 15 05 0d 04 16 14 07 01 1d 19 11 10 1a 0e 0c 0a 07 00 14 0c 11 01 0b 04 03 08 19 0c 0c 12 07 00 
page  96: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  97: 0f 0d 14 18 02 00 19 0d 17 00 0d 16 07 1d 1b 00 00 10 1d 0b 06 0d 00 06 0d 0f 07 07 06 0e 08 00 
page  98: 0f 11 0b 09 0d 10 0e 1a 02 06 1d 12 13 13 07 0c 06 04 1e 17 1b 00 15 09 0f 14 00 0b 11 1b 0f 09 
page  99: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 100: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 101: 7f 7f 7f 7f 7f 7f 7f 7f 7f ff 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 89 7f 7f 7f 7f 
page 102: 02 01 0b 16 09 04 18 19 1a 09 0d 07 11 0a 0a 18 1d 12 03 14 0d 1e 16 19 15 10 1b 19 09 04 0b 10 
page 103: 0a 03 04 07 02 10 15 11 15 07 06 11 1b 0d 00 00 09 13 02 06 15 1e 0a 12 10 00 0a 04 07 17 15 01 
page 104: 09 0a 0a 17 0f 10 04 1c 0a 0a 02 1e 0e 1c 1c 1e 19 1c 1c 18 04 10 11 1e 18 15 17 0b 1d 13 0c 0e 
page 105: 1d 11 13 16 09 12 0e 0f 0c 10 06 07 06 12 07 18 1c 17 0a 1d 0a 0b 12 14 0c 18 1a 08 06 0c 15 14 
page 106: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 107: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 108: 00 1b 13 09 0d 17 18 05 13 05 1e 0d 1c 16 12 08 10 04 04 16 0b 17 07 16 16 09 03 0c 0f 03 05 01 
page 109: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 110: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 111: 0d 1e 06 03 04 12 03 08 06 01 1d 0a 1d 16 06 1c 00 1e 01 07 11 00 17 02 19 01 10 06 08 0f 0b 0c 
page 112: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f cf 7f 7f 7f 7f 7f 7f 7f 7f 81 b6 7f 7f 7f 7f 7f 
page 113: 06 01 15 19 1d 13 0a 19 03 15 02 0c 0f 0b 05 07 19 0e 11 06 16 0a 12 1c 1e 01 18 1a 09 0b 11 1c 
page 114: 7f 7f f3 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 8d 7f 7f 7f a2 7f 7f 7f 7f 7f 7f 7f 7f e6 7f 7f 7f 
page 115: 0e 19 05 04 1c 08 01 0f 1e 19 0c 1e 18 1a 14 0c 1c 0e 1c 11 1c 0e 0d 12 09 04 12 1a 08 1a 18 18 
page 116: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 117: 0f 1a 1e 17 0d 08 03 19 04 11 0e 01 06 19 10 1c 1c 02 15 01 0d 0d 1d 12 05 0f 10 06 0b 1b 1e 18 
page 118: 08 10 0d 17 1a 07 08 15 0c 04 06 11 12 1d 10 12 04 0c 08 15 08 06 0b 0e 0a 12 05 1b 15 10 01 0a 
page 119: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f bb 7f 7f 7f 7f 7f 7f 7f 7f 
page 120: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 121: 01 08 13 1d 06 07 1a 0a 0c 0b 01 1d 15 00 03 04 0b 1b 04 07 09 0f 1b 10 1c 10 0d 1b 12 0e 0f 0b 
page 122: 12 18 1a 06 02 12 0b 16 09 0d 19 02 0c 04 10 16 1e 17 04 0d 10 13 15 1e 1d 06 04 1e 04 1e 03 12 
page 123: 7f f6 7f 7f 7f 7f 7f ef 7f 7f cd 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page 124: 09 0f 0b 10 00 0d 0d 09 0c 18 15 0f 14 0b 06 00 08 12 1b 19 0f 1e 0e 19 0c 17 1e 09 05 13 10 0b 
page 125: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 126: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 127: 11 03 11 00 1b 0a 0b 11 13 12 0f 13 1a 0d 0f 19 00 04 0a 06 1b 04 03 09 0f 19 1e 1a 12 01 01 13 

PDBR: 17  (decimal) [This means the page directory is held in this page]

Virtual Address 6c74: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 6b22: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 03df: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 69dc: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 317a: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 4546: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 2c03: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 7fd7: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 390e: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 748b: Translates To What Physical Address (And Fetches what Value)? Or Fault?
```

1. 虚拟地址:6c74(16) -> 11011 00011 10100(2) -> 27 3 20(10)  
PDBR 为 17,页目录索引为 27(17 页第 27 项) -> PDE 为 a0  
a0 -> 1 0100000(2) -> 有效位为 1, 页帧号为 32(10)  
页帧号 32,页表索引 3(第 32 页第 3 项) -> PTE 为 e1  
e1 -> 1 1100001(2) -> 有效位为 1, 物理页号为 97(10)  
物理页号 97,偏移为 20(第 97 页,第 20 字节) -> 物理地址为 0xc34,值为 06

2. 虚拟地址:6b22(16) 11010 11001 00010(2) -> 26 25 2(10)  
PDBR 为 17, 页目录索引为 26(17 页第 26 项) -> PDE 为 d2  
d2 -> 1 1010010(2) -> 有效位为 1, 页帧号为 82(10)  
页帧号 82,页表索引 25(第 82 页第 25 项) -> PTE 为 c7
c7 -> 1 1000111(2) -> 有效位为 1, 物理页号为 71(10)  
物理页号 71,偏移为 2(第 71 页,第 2 字节) -> 物理地址为 0x8e2,值为 1a  

*其余算法类似，再此不赘述。*

### 答案验证

```shell
Virtual Address 6c74:
  --> pde index:0x1b [decimal 27] pde contents:0xa0 (valid 1, pfn 0x20 [decimal 32])
    --> pte index:0x3 [decimal 3] pte contents:0xe1 (valid 1, pfn 0x61 [decimal 97])
      --> Translates to Physical Address 0xc34 --> Value: 06
Virtual Address 6b22:
  --> pde index:0x1a [decimal 26] pde contents:0xd2 (valid 1, pfn 0x52 [decimal 82])
    --> pte index:0x19 [decimal 25] pte contents:0xc7 (valid 1, pfn 0x47 [decimal 71])
      --> Translates to Physical Address 0x8e2 --> Value: 1a
Virtual Address 03df:
  --> pde index:0x0 [decimal 0] pde contents:0xda (valid 1, pfn 0x5a [decimal 90])
    --> pte index:0x1e [decimal 30] pte contents:0x85 (valid 1, pfn 0x05 [decimal 5])
      --> Translates to Physical Address 0x0bf --> Value: 0f
Virtual Address 69dc:
  --> pde index:0x1a [decimal 26] pde contents:0xd2 (valid 1, pfn 0x52 [decimal 82])
    --> pte index:0xe [decimal 14] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 317a:
  --> pde index:0xc [decimal 12] pde contents:0x98 (valid 1, pfn 0x18 [decimal 24])
    --> pte index:0xb [decimal 11] pte contents:0xb5 (valid 1, pfn 0x35 [decimal 53])
      --> Translates to Physical Address 0x6ba --> Value: 1e
Virtual Address 4546:
  --> pde index:0x11 [decimal 17] pde contents:0xa1 (valid 1, pfn 0x21 [decimal 33])
    --> pte index:0xa [decimal 10] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 2c03:
  --> pde index:0xb [decimal 11] pde contents:0xc4 (valid 1, pfn 0x44 [decimal 68])
    --> pte index:0x0 [decimal 0] pte contents:0xd7 (valid 1, pfn 0x57 [decimal 87])
      --> Translates to Physical Address 0xae3 --> Value: 16
Virtual Address 7fd7:
  --> pde index:0x1f [decimal 31] pde contents:0x92 (valid 1, pfn 0x12 [decimal 18])
    --> pte index:0x1e [decimal 30] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 390e:
  --> pde index:0xe [decimal 14] pde contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page directory entry not valid)
Virtual Address 748b:
  --> pde index:0x1d [decimal 29] pde contents:0x80 (valid 1, pfn 0x00 [decimal 0])
    --> pte index:0x4 [decimal 4] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
```

经验证，答案正确。

### 问题解答

```shell
>python2 paging-multilevel-translate.py -s 2
ARG seed 2
ARG allocated 64
ARG num 10

page   0: 1d 1d 06 08 05 00 0e 10 1b 0e 05 0d 04 01 0c 19 02 1e 1a 1e 12 09 17 04 10 19 10 17 05 1a 04 0a 
page   1: 16 1b 14 19 00 1d 16 12 1c 1b 03 19 17 06 17 12 05 18 04 12 0d 07 11 0e 06 1d 02 00 0f 19 14 17 
page   2: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f bf 7f 7f 7f b5 dd 7f 7f ac 7f 7f 7f 
page   3: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   4: 03 13 10 05 1d 1e 1b 0e 09 06 19 15 08 1b 11 0c 0c 16 0e 14 03 15 08 1c 06 0a 10 0c 10 1c 06 17 
page   5: 15 0b 0d 17 06 08 10 1c 02 19 16 05 14 13 16 10 09 0f 07 0e 0c 03 07 0a 0c 11 17 08 11 0a 07 04 
page   6: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   7: 19 16 14 09 12 12 12 04 0d 0c 16 1e 1d 10 0d 08 01 00 0e 09 0b 1b 10 11 07 00 0a 04 0f 1e 14 05 
page   8: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page   9: 7f 7f 7f 7f 7f 7f 7f 7f bc 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f c4 7f 7f 7f 7f 7f 7f 7f a9 7f 7f 7f 7f 
page  10: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 87 7f c3 7f 7f 7f 7f e6 7f 7f 7f 7f f7 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  11: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  12: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  13: 13 06 0b 09 0d 0d 0c 18 19 11 0e 08 17 1e 07 15 15 14 00 11 06 06 11 13 13 17 15 0e 01 17 19 19 
page  14: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  15: 09 08 1e 1d 14 0d 0c 02 0e 04 10 19 0c 15 19 1c 0d 07 1b 0f 08 15 1a 1e 0b 08 07 09 06 1c 13 01 
page  16: 12 0e 06 01 0a 18 04 07 13 13 18 13 1a 04 1c 00 03 03 18 0f 1c 1e 1d 13 0a 1d 16 06 11 00 00 13 
page  17: 06 15 00 02 18 06 05 0c 19 00 1b 09 11 0e 03 1d 05 18 1b 0e 1d 01 04 0e 02 19 10 18 08 00 1b 06 
page  18: 7f 7f 7f 7f 7f 9b 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f c1 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  19: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  20: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  21: 05 14 0e 0a 02 01 08 02 15 06 0b 0d 15 19 13 06 04 11 0b 16 06 15 0b 08 05 17 0f 10 19 00 10 0a 
page  22: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  23: 06 10 0e 09 13 06 1c 1d 16 0d 0f 12 01 0c 10 05 02 18 0b 10 1c 12 08 1e 0b 00 15 03 09 1a 14 00 
page  24: 0b 18 07 19 13 0c 19 0a 1b 1c 0f 15 1d 17 17 1a 1d 17 1e 09 13 14 0b 0c 05 1d 0a 0e 1b 05 1d 03 
page  25: 7f 7f 7f cb 84 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 91 7f 7f 7f 7f 7f 7f 7f ef 7f 7f 
page  26: 1b 1e 04 11 04 1b 1a 1c 17 0c 13 01 03 11 16 09 00 01 0a 0b 1c 15 1b 17 15 17 06 17 12 13 0f 0d 
page  27: 06 10 19 02 1d 14 01 15 0c 0f 03 0f 10 18 12 15 16 06 00 0e 04 04 09 10 13 14 1d 03 11 02 14 0d 
page  28: 12 05 09 19 11 16 0e 08 0f 11 07 1a 1e 05 07 19 16 06 12 07 1a 12 0f 05 0c 0e 0b 05 06 15 1c 1a 
page  29: e7 7f db 7f 7f 7f 97 7f 8f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  30: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  31: 0c 0d 04 09 00 0f 13 1e 1d 0a 1d 03 04 10 15 12 01 0c 0f 0b 17 17 02 0e 15 18 14 1e 16 0c 19 12 
page  32: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  33: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  34: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  35: 15 0c 0d 16 14 04 13 01 06 19 1c 07 17 05 0f 0a 02 0d 11 1a 03 08 00 06 08 19 1d 06 0e 10 0f 1d 
page  36: 02 19 11 14 09 18 1d 1e 01 09 02 0e 14 12 0a 1d 13 1e 0d 13 03 10 14 07 13 04 0e 12 0e 04 05 0b 
page  37: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  38: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  39: 14 0e 1d 0b 0a 1c 12 03 18 0b 1d 13 18 1b 0f 1d 00 0a 19 00 14 1e 16 1a 02 10 12 0d 0d 18 05 01 
page  40: 0d 09 13 09 1c 19 09 02 00 19 0d 03 01 18 06 1c 0b 13 0a 14 04 08 03 01 11 1e 00 1b 08 04 00 0a 
page  41: 00 1c 1b 0e 02 19 0f 0e 13 04 06 19 16 1e 0d 1e 1b 0f 1b 05 02 19 04 0f 16 15 06 18 01 11 1b 10 
page  42: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f d6 7f 7f 7f 7f 7f 7f a4 7f 7f 7f 7f 7f 7f 7f 7f 
page  43: 7f 7f 7f 7f 7f 7f 7f ec 7f 7f 7f 7f 7f 7f 7f a7 7f 7f 7f 7f 7f 7f d5 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  44: 0b 1c 1b 17 0d 10 07 19 0c 08 13 04 09 1c 02 04 06 07 0d 07 0a 07 07 12 0a 0b 17 01 04 1a 0d 18 
page  45: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f ba 7f 7f 7f 7f 7f f2 7f 
page  46: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  47: 7f 7f 7f 7f 7f 7f 7f b1 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 98 7f 7f 7f 7f 7f 9f 7f 7f 7f 7f 7f 7f 
page  48: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  49: 15 04 15 09 14 05 18 0c 19 1d 12 00 0b 1e 14 17 0e 1d 1c 12 12 03 00 06 16 1a 17 1b 00 00 07 00 
page  50: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  51: 7f 7f 7f 7f 7f c9 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 85 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  52: 06 12 02 08 0b 1c 02 17 05 11 0c 0e 17 0c 03 03 02 1a 13 1d 15 00 14 18 16 0f 0b 0e 18 08 10 0e 
page  53: 0c 1b 03 0f 19 0c 1d 07 0f 09 08 02 18 14 19 0e 05 14 1c 11 08 10 1a 19 13 16 00 04 00 0d 0f 00 
page  54: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  55: 06 0a 09 04 12 0e 0a 00 1c 01 03 09 18 1d 17 06 1a 01 03 03 11 12 13 1d 17 17 05 1c 1c 19 02 16 
page  56: 7f 7f 7f a8 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  57: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  58: 05 1b 12 17 07 16 15 18 05 1d 0e 02 1c 09 1b 06 02 0f 11 14 13 0b 17 0f 04 12 0a 10 04 07 08 14 
page  59: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 81 7f 7f 7f 9c 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f b7 7f 7f 7f 7f 
page  60: 15 06 0c 16 08 13 01 15 07 0d 1e 18 05 18 0c 0f 08 05 1e 0c 06 18 03 0c 03 01 1e 0f 14 04 0b 01 
page  61: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  62: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f c7 7f 7f 7f b4 7f 7f 7f 7f 7f 7f 7f 7f 7f d4 7f 7f 7f 95 7f 7f 7f 
page  63: 10 13 1b 06 19 00 19 08 00 19 1e 14 18 0c 07 14 19 08 0b 08 08 1a 00 00 05 18 11 17 15 1b 12 00 
page  64: 14 12 09 06 0f 1c 13 02 19 16 1c 05 17 01 14 08 07 1b 03 10 1a 07 06 1b 0d 16 00 0b 05 14 02 1d 
page  65: 1d 08 12 0d 00 11 04 01 01 04 02 13 0f 1e 1c 1e 07 0d 07 12 13 18 15 07 0d 10 00 01 0c 03 16 07 
page  66: 7f 7f a3 7f 7f e4 7f 7f 7f 7f f0 7f 7f 7f 7f 7f 7f 7f 7f c0 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  67: 14 10 19 03 0e 19 05 05 13 04 10 03 05 0a 18 12 12 13 0c 1e 12 13 02 07 12 1d 15 01 19 06 12 05 
page  68: 08 17 19 17 09 16 02 15 00 00 03 14 1e 0e 13 12 1a 1e 19 0a 02 1b 08 17 1a 05 06 0d 1a 1a 1e 08 
page  69: 01 18 1b 0d 0d 08 06 10 0d 14 14 06 17 0d 0c 05 12 15 18 19 0a 10 13 0c 00 16 1b 0e 1c 01 12 0c 
page  70: 13 10 17 18 09 18 04 10 1c 06 1b 0f 16 04 01 07 12 1b 11 10 0b 0f 16 1a 0a 14 0a 07 01 0c 12 0f 
page  71: 1d 0a 0d 17 09 18 0a 04 10 11 09 08 1e 0f 16 0d 11 08 05 19 15 09 0c 11 02 13 1e 15 0e 03 10 12 
page  72: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  73: 14 18 1b 14 14 0c 01 0e 03 1d 0b 12 16 05 19 0a 02 12 0c 1c 0d 02 00 00 0f 16 01 0a 0e 1b 1e 1b 
page  74: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 90 7f ea 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f f9 
page  75: 17 15 0e 18 0d 16 1c 10 04 1c 06 06 01 0d 0c 19 05 0b 17 00 0c 04 17 09 04 03 06 15 03 01 07 01 
page  76: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  77: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f e2 7f 
page  78: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  79: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  81: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  82: 0c 1a 02 13 0c 10 1a 18 13 09 07 0e 07 08 1d 03 19 0b 0b 09 02 0e 05 0d 09 1b 1c 0d 13 1c 0a 03 
page  83: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f ff 7f d2 7f 7f 7f 7f 7f 7f 7f 7f 
page  84: 11 10 0e 1d 17 0d 0f 1b 17 14 1d 03 12 13 0e 1d 1d 0c 13 17 15 0b 18 0a 04 14 14 0c 0f 1e 19 0c 
page  85: 02 1e 14 01 1b 07 0e 11 04 0f 01 06 1c 19 10 15 1b 04 0f 04 03 03 06 01 06 0b 13 1a 1c 16 0f 1c 
page  86: 08 0f 00 02 17 05 17 18 0c 14 18 1a 04 05 0b 0e 09 00 11 1d 0b 10 0b 0d 1a 09 14 0e 10 1c 02 19 
page  87: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f d8 7f 7f 7f 
page  88: 10 1a 1d 12 0d 10 18 14 18 09 12 07 11 00 10 16 1c 0f 1b 06 00 11 0a 0c 12 17 1a 0a 12 13 15 12 
page  89: 1c 01 0a 0b 0c 1e 1e 19 14 18 1a 06 13 1e 05 0d 0b 1a 0e 04 0b 14 10 00 19 08 01 13 14 12 02 00 
page  90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page  91: 07 1b 0e 15 0c 1e 18 11 04 0d 00 12 1b 05 0f 0e 0c 16 1d 15 0e 1d 0a 17 14 17 1a 06 13 0c 14 1e 
page  92: 0f 11 03 10 17 15 1d 12 0b 1a 1e 1e 03 14 04 08 18 1b 12 09 0f 09 08 06 1d 1c 05 1a 17 16 07 10 
page  93: 07 19 04 05 15 0b 01 1e 04 01 0a 13 17 03 0a 00 0d 17 16 1b 17 1a 15 0e 06 14 09 03 0d 1b 03 12 
page  94: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f e5 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  95: 7f 7f d9 7f 7f 7f 7f c6 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 80 c5 
page  96: ee 7f 7f 7f 7f 9a 7f 7f 7f 7f 7f 7f e1 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page  97: 10 0a 01 16 07 11 1e 07 15 0d 10 0c 15 10 01 19 07 0a 0e 12 17 03 0b 13 0e 07 18 1d 14 10 04 0e 
page  98: 15 12 0c 09 10 07 08 19 0a 16 15 0e 18 0a 00 1a 17 16 1c 0c 0d 12 1b 08 17 1d 07 00 05 14 06 1d 
page  99: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 100: 0d 0e 0a 0e 07 05 0e 05 0e 11 09 05 12 1a 06 13 14 1b 15 09 06 19 09 00 1a 06 09 09 07 16 0a 0d 
page 101: 1c 17 18 0a 1e 1d 04 17 16 0e 10 0f 1c 0f 19 0a 1b 1b 0e 11 1c 16 0f 06 0a 15 05 1c 08 1c 09 1d 
page 102: 1c 19 09 07 0f 08 0d 15 1c 12 19 02 0b 1e 04 0c 02 02 1b 1e 14 03 09 07 14 15 0d 10 03 10 1d 17 
page 103: 06 06 1d 02 0f 10 0a 17 1a 07 09 0f 0e 13 18 0a 1d 0e 00 0d 10 05 1b 12 10 08 04 08 13 15 15 00 
page 104: 7f 7f 7f 7f 7f 7f 8d 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page 105: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f f6 7f 7f 7f 7f 7f 7f fb 
page 106: 04 04 12 0b 02 12 1c 13 0f 18 1c 04 09 1d 1c 06 15 1b 12 15 10 07 06 01 14 04 13 0c 0d 1e 0c 0e 
page 107: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 108: 17 12 0c 1e 0c 0e 13 09 19 12 12 10 1e 1e 1a 0e 0c 10 01 03 1e 03 1d 15 1c 02 09 18 00 03 0a 05 
page 109: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 110: 04 16 1e 14 0e 09 01 13 1d 03 19 1b 0a 1a 04 09 11 1b 10 02 1c 11 18 07 0a 02 05 0d 0c 14 19 0a 
page 111: 0b 12 06 1a 0d 0f 14 09 19 0e 0d 16 14 15 1b 19 0c 13 1a 01 14 10 0c 03 08 17 1b 1e 17 1b 19 05 
page 112: 08 03 1e 10 1b 12 1b 12 16 13 1d 17 1e 0c 06 06 0e 11 15 0e 1d 0c 00 10 14 07 17 06 1c 0d 1d 13 
page 113: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 114: 1c 0a 03 14 09 1d 19 07 0f 11 17 08 11 10 12 11 0d 0c 0c 1e 10 03 0c 17 15 02 0c 0e 1a 08 1c 19 
page 115: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 116: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 117: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 118: 1b 03 14 14 14 0c 07 1b 1c 16 10 01 08 07 07 06 14 15 05 1b 00 1d 12 14 08 15 1b 06 04 18 07 03 
page 119: 19 05 04 03 09 0d 00 0d 15 19 05 00 18 0b 09 04 08 08 07 07 10 19 09 0c 0e 1a 17 1e 05 18 09 11 
page 120: 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f dc 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 7f 
page 121: 18 14 05 12 03 0a 00 15 1e 13 11 07 0d 0e 0d 08 06 17 1d 19 13 00 09 1a 1e 10 11 15 07 16 0b 1a 
page 122: 82 cd ad 9d ab e8 7f af 7f d3 7f f8 92 ca be aa 89 7f e9 99 bb 7f c2 e0 d7 b8 df 7f de b3 8a 7f 
page 123: 14 09 1c 01 07 18 1b 0c 1c 03 12 02 07 05 00 0c 0f 08 14 01 10 10 0c 1c 03 0d 0e 0b 1e 11 10 0d 
page 124: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 125: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 126: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
page 127: 16 18 1b 1c 11 19 0f 07 08 08 00 13 0c 1c 01 18 06 0a 09 1d 14 0e 05 01 0b 1e 0d 14 1b 01 09 0c 

PDBR: 122  (decimal) [This means the page directory is held in this page]

Virtual Address 7570: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 7268: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 1f9f: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 0325: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 64c4: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 0cdf: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 2906: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 7a36: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 21e1: Translates To What Physical Address (And Fetches what Value)? Or Fault?
Virtual Address 5149: Translates To What Physical Address (And Fetches what Value)? Or Fault?
```

1. 虚拟地址:7570(16) -> 11101 01011 10000(2) -> 29 11 16(10)  
PDBR 为 122,页目录索引为 29(122 页第 29 项) -> PDE 为 b3  
b3 -> 1 0110011(2) -> 有效位为 1, 页帧号为 51(10)  
页帧号 51,页表索引 11(第 51 页第 11 项) -> PTE 为 7f  
7f -> 0 1111111(2) -> 有效位为 0 -> 无效  

2. 虚拟地址:7268(16) 11100 10011 01000(2) -> 28 19 8(10)  
PDBR 为 122, 页目录索引为 28 -> PDE 为 de  
de -> 1 1011110(2) -> 有效位为 1, 页帧号为 94(10)  
页帧号 94,页表索引 19(第 94 页第 19 项) -> PTE 为 e5
e5 -> 1 1100101(2) -> 有效位为 1, 物理页号为 101(10)  
物理页号 101,偏移为 8(第 101 页,第 8 字节) -> 物理地址为 0xca8,值为 16  

*其余算法类似，再此不赘述。*

### 答案验证

```shell
Virtual Address 7570:
  --> pde index:0x1d [decimal 29] pde contents:0xb3 (valid 1, pfn 0x33 [decimal 51])
    --> pte index:0xb [decimal 11] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 7268:
  --> pde index:0x1c [decimal 28] pde contents:0xde (valid 1, pfn 0x5e [decimal 94])
    --> pte index:0x13 [decimal 19] pte contents:0xe5 (valid 1, pfn 0x65 [decimal 101])
      --> Translates to Physical Address 0xca8 --> Value: 16
Virtual Address 1f9f:
  --> pde index:0x7 [decimal 7] pde contents:0xaf (valid 1, pfn 0x2f [decimal 47])
    --> pte index:0x1c [decimal 28] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 0325:
  --> pde index:0x0 [decimal 0] pde contents:0x82 (valid 1, pfn 0x02 [decimal 2])
    --> pte index:0x19 [decimal 25] pte contents:0xdd (valid 1, pfn 0x5d [decimal 93])
      --> Translates to Physical Address 0xba5 --> Value: 0b
Virtual Address 64c4:
  --> pde index:0x19 [decimal 25] pde contents:0xb8 (valid 1, pfn 0x38 [decimal 56])
    --> pte index:0x6 [decimal 6] pte contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page table entry not valid)
Virtual Address 0cdf:
  --> pde index:0x3 [decimal 3] pde contents:0x9d (valid 1, pfn 0x1d [decimal 29])
    --> pte index:0x6 [decimal 6] pte contents:0x97 (valid 1, pfn 0x17 [decimal 23])
      --> Translates to Physical Address 0x2ff --> Value: 00
Virtual Address 2906:
  --> pde index:0xa [decimal 10] pde contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page directory entry not valid)
Virtual Address 7a36:
  --> pde index:0x1e [decimal 30] pde contents:0x8a (valid 1, pfn 0x0a [decimal 10])
    --> pte index:0x11 [decimal 17] pte contents:0xe6 (valid 1, pfn 0x66 [decimal 102])
      --> Translates to Physical Address 0xcd6 --> Value: 09
Virtual Address 21e1:
  --> pde index:0x8 [decimal 8] pde contents:0x7f (valid 0, pfn 0x7f [decimal 127])
      --> Fault (page directory entry not valid)
Virtual Address 5149:
  --> pde index:0x14 [decimal 20] pde contents:0xbb (valid 1, pfn 0x3b [decimal 59])
    --> pte index:0xa [decimal 10] pte contents:0x81 (valid 1, pfn 0x01 [decimal 1])
      --> Translates to Physical Address 0x029 --> Value: 1b
```

经验证，答案正确。

## Problem3

### 问题描述

根据你对缓存内存的工作原理的理解，你认为对页表的内存引用如何在缓存中工作？它们是否会导致大量的缓存命中（并导致快速访问）或者很多未命中（并导致访问缓慢）？

### 问题解答

TLB 可以看做是页表的缓存，当我们查找地址映射时首先在 TLB 中查找，找不到再去页表中查找。TLB 的命中率和具体的工作场景和 TLB 使用的替换策略有关。
